<flexbox vue-id="3518f8be-1" direction="column" gap="16" className="survey-diet-page" bind:__l="__l" vue-slots="{{['default']}}"><navbar vue-id="{{('3518f8be-2')+','+('3518f8be-1')}}" title="膳食调查" bind:__l="__l"></navbar><flexbox vue-id="{{('3518f8be-3')+','+('3518f8be-1')}}" align="left" className="banner-container" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('3518f8be-4')+','+('3518f8be-3')}}" direction="column" className="full-width" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('3518f8be-5')+','+('3518f8be-4')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">请使用文字或语音回复，</typography><typography vue-id="{{('3518f8be-6')+','+('3518f8be-4')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">{{"共"+$root.g0+"个问题，"}}</typography><typography vue-id="{{('3518f8be-7')+','+('3518f8be-4')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">用时约3分钟</typography></flexbox><icon src="meal.png" width="186" height="111" className="banner-image"></icon></flexbox><flexbox vue-id="{{('3518f8be-8')+','+('3518f8be-1')}}" direction="column" gap="16" className="survey-list" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{surveys}}" wx:for-item="survey" wx:for-index="surveyIndex" wx:key="surveyIndex"><flexbox vue-id="{{('3518f8be-9-'+surveyIndex)+','+('3518f8be-8')}}" direction="column" gap="16" className="survey-item" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('3518f8be-10-'+surveyIndex)+','+('3518f8be-9-'+surveyIndex)}}" direction="column" gap="16" className="question-content" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('3518f8be-11-'+surveyIndex)+','+('3518f8be-10-'+surveyIndex)}}" fontSize="16" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">{{survey.question}}</typography><block wx:if="{{questions[surveyIndex].type!=='fill'}}"><flexbox vue-id="{{('3518f8be-12-'+surveyIndex)+','+('3518f8be-10-'+surveyIndex)}}" direction="column" gap="8" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{questions[surveyIndex].type==='select'}}"><radio-group data-event-opts="{{[['change',[['radioChange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{questions[surveyIndex].options}}" wx:for-item="option" wx:for-index="optionIndex" wx:key="optionIndex"><label class="option-item"><radio style="transform:scale(0.7);" value="{{order[optionIndex]}}" disabled="{{isEdit?editingIndex!==surveyIndex:current!==surveyIndex}}" color="#30A375"></radio><typography vue-id="{{('3518f8be-13-'+surveyIndex+'-'+optionIndex)+','+('3518f8be-12-'+surveyIndex)}}" bind:__l="__l" vue-slots="{{['default']}}">{{order[optionIndex]+". "+option}}</typography></label></block></radio-group></block><block wx:else><block wx:if="{{questions[surveyIndex].type==='multi-select'}}"><checkbox-group data-event-opts="{{[['change',[['checkboxChange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{questions[surveyIndex].options}}" wx:for-item="option" wx:for-index="optionIndex" wx:key="optionIndex"><label class="option-item"><checkbox style="transform:scale(0.7);" value="{{order[optionIndex]}}" disabled="{{isEdit?editingIndex!==surveyIndex:current!==surveyIndex}}" color="#30A375"></checkbox><typography vue-id="{{('3518f8be-14-'+surveyIndex+'-'+optionIndex)+','+('3518f8be-12-'+surveyIndex)}}" bind:__l="__l" vue-slots="{{['default']}}">{{order[optionIndex]+". "+option}}</typography></label></block></checkbox-group></block></block></flexbox></block></flexbox><block wx:if="{{answers[surveyIndex]}}"><flexbox vue-id="{{('3518f8be-15-'+surveyIndex)+','+('3518f8be-9-'+surveyIndex)}}" className="answer-content" data-event-opts="{{[['^longpress',[['onLongTap',['$event',surveyIndex,'$0'],['answers.'+surveyIndex+'']]]]]}}" bind:longpress="__e" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('3518f8be-16-'+surveyIndex)+','+('3518f8be-15-'+surveyIndex)}}" fontSize="16" bind:__l="__l" vue-slots="{{['default']}}">{{answers[surveyIndex]}}</typography></flexbox></block></flexbox></block></flexbox><block wx:if="{{$root.g1}}"><flexbox vue-id="{{('3518f8be-17')+','+('3518f8be-1')}}" align="center" direction="column" gap="8" className="analysis-container" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('3518f8be-18')+','+('3518f8be-17')}}" fontSize="16" color="#000000" bind:__l="__l" vue-slots="{{['default']}}">本次调查评估已结束，如需修改，请长按你的答案。</typography><flexbox vue-id="{{('3518f8be-19')+','+('3518f8be-17')}}" align="center" className="analysis-btn" data-event-opts="{{[['^tap',[['onAnalysis']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('3518f8be-20')+','+('3518f8be-19')}}" fontSize="16" color="white" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">直接生成分析报告</typography></flexbox></flexbox></block><block wx:else><flexbox vue-id="{{('3518f8be-21')+','+('3518f8be-1')}}" align="center" className="tabbar-container" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('3518f8be-22')+','+('3518f8be-21')}}" direction="column" gap="12" className="{{['tabbar-content',{editing:isEdit}]}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{isEdit}}"><flexbox vue-id="{{('3518f8be-23')+','+('3518f8be-22')}}" align="left" className="old-answer" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('3518f8be-24')+','+('3518f8be-23')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">{{"修改："+oldAnswer}}</typography></flexbox></block><flexbox vue-id="{{('3518f8be-25')+','+('3518f8be-22')}}" align="{{align}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{!showInput&&!answer}}"><icon src="icon_keyboard.png" size="24" data-event-opts="{{[['tap',[['toggleInput',[true]]]]]}}" bindtap="__e"></icon></block><block wx:if="{{showInput||answer}}"><textarea class="answer-input" type="text" auto-height="{{true}}" show-confirm-bar="{{false}}" disable-default-padding="{{true}}" disabled="{{$root.g2}}" cursor-spacing="20" placeholder="输入答案..." confirm-type="send" data-event-opts="{{[['linechange',[['onLineChange',['$event']]]],['confirm',[['onAnswer',['$event']]]],['input',[['__set_model',['','answer','$event',[]]]]]]}}" value="{{answer}}" bindlinechange="__e" bindconfirm="__e" bindinput="__e"></textarea></block><block wx:else><typography vue-id="{{('3518f8be-26')+','+('3518f8be-25')}}" fontSize="16" color="gray2" align="center" className="answer-input" data-event-opts="{{[['^tap',[['openPopup']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">点击说话</typography></block><block wx:if="{{answer}}"><icon src="icon_send.png" size="24" data-event-opts="{{[['tap',[['onAnswer',['$event']]]]]}}" bindtap="__e"></icon></block><block wx:if="{{showInput&&!answer}}"><icon src="icon_microphone.png" size="24" data-event-opts="{{[['tap',[['toggleInput',[false]]]]]}}" bindtap="__e"></icon></block></flexbox></flexbox></flexbox></block><block wx:if="{{showEdit}}"><view class="edit-popup"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="popup-mask" bindtap="__e"></view><flexbox style="{{'top:'+(top*2+'rpx')+';'}}" vue-id="{{('3518f8be-27')+','+('3518f8be-1')}}" align="center" className="popup-content" data-event-opts="{{[['^tap',[['onEdit']]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><icon src="icon_edit.png" size="20" gap="12" align="center" label="修改" fontSize="16" color="#000000"></icon></flexbox></view></block><speech class="vue-ref" bind:confirm="__e" vue-id="{{('3518f8be-28')+','+('3518f8be-1')}}" data-ref="speechPopup" data-event-opts="{{[['^confirm',[['setText']]]]}}" bind:__l="__l"></speech><login vue-id="{{('3518f8be-29')+','+('3518f8be-1')}}" bind:__l="__l"></login></flexbox>