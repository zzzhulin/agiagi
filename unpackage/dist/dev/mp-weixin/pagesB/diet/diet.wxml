<view class="diet-page"><navbar vue-id="16ad249a-1" fixed="{{false}}" backgroundColor="{{navbarBgColor}}" bind:__l="__l"></navbar><icon src="plan_diet-background.png" width="375" height="281" mode="widthFix" className="background"></icon><flexbox vue-id="16ad249a-2" align="left" gap="12" className="family-list" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{family}}" wx:for-item="item" wx:for-index="__i0__" wx:key="member_id"><flexbox vue-id="{{('16ad249a-3-'+__i0__)+','+('16ad249a-2')}}" align="center" className="{{['family-item',{active:item.member_id===memberId}]}}" data-event-opts="{{[['^tap',[['selectMember',['$0'],[[['family','member_id',item.member_id]]]]]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><icon src="{{item.avatar}}" size="{{item.member_id===memberId?36:32}}" type="remote" circle="{{true}}" align="center"></icon></flexbox></block></flexbox><flexbox vue-id="16ad249a-4" direction="column" gap="24" className="diet-container" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-5')+','+('16ad249a-4')}}" direction="column" gap="24" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-6')+','+('16ad249a-5')}}" direction="column" gap="8" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-7')+','+('16ad249a-6')}}" align="justify" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-8')+','+('16ad249a-7')}}" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-9')+','+('16ad249a-8')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">年龄：</typography><typography vue-id="{{('16ad249a-10')+','+('16ad249a-8')}}" bind:__l="__l" vue-slots="{{['default']}}">{{memberInfo.age+"岁"}}</typography></flexbox><view class="line"></view><flexbox vue-id="{{('16ad249a-11')+','+('16ad249a-7')}}" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-12')+','+('16ad249a-11')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">身高：</typography><block wx:if="{{memberInfo.height}}"><typography vue-id="{{('16ad249a-13')+','+('16ad249a-11')}}" bind:__l="__l" vue-slots="{{['default']}}">{{memberInfo.height+"cm"}}</typography></block><block wx:else><typography vue-id="{{('16ad249a-14')+','+('16ad249a-11')}}" bind:__l="__l" vue-slots="{{['default']}}">无</typography></block></flexbox><view class="line"></view><flexbox vue-id="{{('16ad249a-15')+','+('16ad249a-7')}}" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-16')+','+('16ad249a-15')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">体重：</typography><block wx:if="{{memberInfo.weight}}"><typography vue-id="{{('16ad249a-17')+','+('16ad249a-15')}}" bind:__l="__l" vue-slots="{{['default']}}">{{memberInfo.weight+"kg"}}</typography></block><block wx:else><typography vue-id="{{('16ad249a-18')+','+('16ad249a-15')}}" bind:__l="__l" vue-slots="{{['default']}}">无</typography></block></flexbox></flexbox><flexbox vue-id="{{('16ad249a-19')+','+('16ad249a-6')}}" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-20')+','+('16ad249a-19')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">工作属性：</typography><typography vue-id="{{('16ad249a-21')+','+('16ad249a-19')}}" bind:__l="__l" vue-slots="{{['default']}}">{{memberInfo.activity_level||'无'}}</typography></flexbox></flexbox><block wx:if="{{scheme}}"><block><flexbox vue-id="{{('16ad249a-22')+','+('16ad249a-5')}}" direction="column" gap="8" className="scheme-point-content" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-23')+','+('16ad249a-22')}}" fontSize="18" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">方案定制要点</typography><typography vue-id="{{('16ad249a-24')+','+('16ad249a-22')}}" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{scheme.diet_scheme_customized||'无'}}</typography></flexbox><flexbox vue-id="{{('16ad249a-25')+','+('16ad249a-5')}}" direction="column" gap="20" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-26')+','+('16ad249a-25')}}" direction="column" gap="12" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-27')+','+('16ad249a-26')}}" align="justify" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-28')+','+('16ad249a-27')}}" align="center" className="recommend-title" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-29')+','+('16ad249a-28')}}" color="white" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">推荐方案</typography></flexbox><flexbox vue-id="{{('16ad249a-30')+','+('16ad249a-27')}}" align="left" data-event-opts="{{[['^tap',[['navigateTo',['/pagesB/diet/scheme?memberId='+memberId]]]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-31')+','+('16ad249a-30')}}" color="primary" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">更换方案</typography><icon src="icon_transfer.png" size="20"></icon></flexbox></flexbox><typography vue-id="{{('16ad249a-32')+','+('16ad249a-26')}}" fontSize="24" color="primary" bold="{{true}}" className="scheme-name" bind:__l="__l" vue-slots="{{['default']}}">{{scheme.scheme_name}}</typography></flexbox><flexbox vue-id="{{('16ad249a-33')+','+('16ad249a-25')}}" direction="column" gap="16" className="cookbook-content" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-34')+','+('16ad249a-33')}}" fontSize="18" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">方案食谱模型</typography><flexbox vue-id="{{('16ad249a-35')+','+('16ad249a-33')}}" direction="column" gap="12" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-36')+','+('16ad249a-35')}}" direction="column" gap="8" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-37')+','+('16ad249a-36')}}" fontSize="16" color="primary" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">早餐</typography><flexbox vue-id="{{('16ad249a-38')+','+('16ad249a-36')}}" className="food-list" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{scheme.diet_schemes.morning.food}}" wx:for-item="food" wx:for-index="__i1__" wx:key="name"><flexbox vue-id="{{('16ad249a-39-'+__i1__)+','+('16ad249a-38')}}" align="center" className="food-item" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-40-'+__i1__)+','+('16ad249a-39-'+__i1__)}}" color="primary" bind:__l="__l" vue-slots="{{['default']}}">{{food.name+food.quantity}}</typography></flexbox></block><block wx:for="{{scheme.diet_schemes.breakfast.food}}" wx:for-item="food" wx:for-index="__i2__" wx:key="name"><flexbox vue-id="{{('16ad249a-41-'+__i2__)+','+('16ad249a-38')}}" align="center" className="food-item" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-42-'+__i2__)+','+('16ad249a-41-'+__i2__)}}" color="primary" bind:__l="__l" vue-slots="{{['default']}}">{{food.name+food.quantity}}</typography></flexbox></block></flexbox></flexbox><flexbox vue-id="{{('16ad249a-43')+','+('16ad249a-35')}}" direction="column" gap="8" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-44')+','+('16ad249a-43')}}" fontSize="16" color="primary" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">午餐</typography><flexbox vue-id="{{('16ad249a-45')+','+('16ad249a-43')}}" className="food-list" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{scheme.diet_schemes.lunch.food}}" wx:for-item="food" wx:for-index="__i3__" wx:key="name"><flexbox vue-id="{{('16ad249a-46-'+__i3__)+','+('16ad249a-45')}}" align="center" className="food-item" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-47-'+__i3__)+','+('16ad249a-46-'+__i3__)}}" color="primary" bind:__l="__l" vue-slots="{{['default']}}">{{food.name+food.quantity}}</typography></flexbox></block></flexbox></flexbox><flexbox vue-id="{{('16ad249a-48')+','+('16ad249a-35')}}" direction="column" gap="8" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-49')+','+('16ad249a-48')}}" fontSize="16" color="primary" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">下午茶</typography><flexbox vue-id="{{('16ad249a-50')+','+('16ad249a-48')}}" className="food-list" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{scheme.diet_schemes.snack.food}}" wx:for-item="food" wx:for-index="__i4__" wx:key="name"><flexbox vue-id="{{('16ad249a-51-'+__i4__)+','+('16ad249a-50')}}" align="center" className="food-item" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-52-'+__i4__)+','+('16ad249a-51-'+__i4__)}}" color="primary" bind:__l="__l" vue-slots="{{['default']}}">{{food.name+food.quantity}}</typography></flexbox></block></flexbox></flexbox><flexbox vue-id="{{('16ad249a-53')+','+('16ad249a-35')}}" direction="column" gap="8" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-54')+','+('16ad249a-53')}}" fontSize="16" color="primary" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">晚餐</typography><flexbox vue-id="{{('16ad249a-55')+','+('16ad249a-53')}}" className="food-list" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{scheme.diet_schemes.dinner.food}}" wx:for-item="food" wx:for-index="__i5__" wx:key="name"><flexbox vue-id="{{('16ad249a-56-'+__i5__)+','+('16ad249a-55')}}" align="center" className="food-item" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-57-'+__i5__)+','+('16ad249a-56-'+__i5__)}}" color="primary" bind:__l="__l" vue-slots="{{['default']}}">{{food.name+food.quantity}}</typography></flexbox></block></flexbox></flexbox></flexbox><flexbox vue-id="{{('16ad249a-58')+','+('16ad249a-33')}}" direction="column" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-59')+','+('16ad249a-58')}}" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{"本方案适应人群："+scheme.suitable_population+"。"}}</typography><typography vue-id="{{('16ad249a-60')+','+('16ad249a-58')}}" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{"本方案"+scheme.advantages+"；"+scheme.drawbacks+"。"}}</typography></flexbox></flexbox><flexbox vue-id="{{('16ad249a-61')+','+('16ad249a-25')}}" direction="column" gap="16" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-62')+','+('16ad249a-61')}}" fontSize="18" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">方案食谱解析</typography><view class="chart-content"><block wx:if="{{pieResult&&chartIndex===1}}"><flexbox vue-id="{{('16ad249a-63')+','+('16ad249a-61')}}" direction="column" gap="16" className="pie-legend" bind:__l="__l" vue-slots="{{['default']}}"><flexbox vue-id="{{('16ad249a-64')+','+('16ad249a-63')}}" align="baseline" gap="5" bind:__l="__l" vue-slots="{{['default']}}"><view class="dot primary-dot"></view><flexbox vue-id="{{('16ad249a-65')+','+('16ad249a-64')}}" direction="column" gap="4" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-66')+','+('16ad249a-65')}}" fontSize="12" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">{{'碳水\n\t\t\t\t\t\t\t\t\t\t\t'+(pieResult.percentage['碳水化合物']%1===0?pieResult.percentage['碳水化合物']:$root.g0)+'%'}}</typography><typography vue-id="{{('16ad249a-67')+','+('16ad249a-65')}}" fontSize="12" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{pieResult.weight['碳水化合物']+"g / "+pieResult.energy['碳水化合物']+"kcal"}}</typography></flexbox></flexbox><flexbox vue-id="{{('16ad249a-68')+','+('16ad249a-63')}}" align="baseline" gap="5" bind:__l="__l" vue-slots="{{['default']}}"><view class="dot accent-dot"></view><flexbox vue-id="{{('16ad249a-69')+','+('16ad249a-68')}}" direction="column" gap="4" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-70')+','+('16ad249a-69')}}" fontSize="12" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">{{'蛋白质\n\t\t\t\t\t\t\t\t\t\t\t'+(pieResult.percentage['蛋白质']%1===0?pieResult.percentage['蛋白质']:$root.g1)+'%'}}</typography><typography vue-id="{{('16ad249a-71')+','+('16ad249a-69')}}" fontSize="12" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{pieResult.weight['蛋白质']+"g / "+pieResult.energy['蛋白质']+"kcal"}}</typography></flexbox></flexbox><flexbox vue-id="{{('16ad249a-72')+','+('16ad249a-63')}}" align="baseline" gap="5" bind:__l="__l" vue-slots="{{['default']}}"><view class="dot warning-dot"></view><flexbox vue-id="{{('16ad249a-73')+','+('16ad249a-72')}}" direction="column" gap="4" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-74')+','+('16ad249a-73')}}" fontSize="12" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">{{'脂肪\n\t\t\t\t\t\t\t\t\t\t\t'+(pieResult.percentage['脂肪']%1===0?pieResult.percentage['脂肪']:$root.g2)+'%'}}</typography><typography vue-id="{{('16ad249a-75')+','+('16ad249a-73')}}" fontSize="12" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{pieResult.weight['脂肪']+"g / "+pieResult.energy['脂肪']+"kcal"}}</typography></flexbox></flexbox></flexbox></block><flexbox vue-id="{{('16ad249a-76')+','+('16ad249a-61')}}" align="center" gap="16" className="chart-tab" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-77')+','+('16ad249a-76')}}" color="{{chartIndex===0?'primary':'gray2'}}" bold="{{chartIndex===0}}" data-event-opts="{{[['^tap',[['selectChart',[0]]]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">NRV分析</typography><typography vue-id="{{('16ad249a-78')+','+('16ad249a-76')}}" color="{{chartIndex===1?'primary':'gray2'}}" bold="{{chartIndex===1}}" data-event-opts="{{[['^tap',[['selectChart',[1]]]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}">供能比分析</typography></flexbox><l-echart class="vue-ref" vue-id="{{('16ad249a-79')+','+('16ad249a-61')}}" data-ref="chart" bind:__l="__l"></l-echart><typography vue-id="{{('16ad249a-80')+','+('16ad249a-61')}}" fontSize="12" color="primary" className="chart-title" bind:__l="__l" vue-slots="{{['default']}}">* 选用中国人膳食推荐标准 *</typography></view><typography vue-id="{{('16ad249a-81')+','+('16ad249a-61')}}" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{recipeSummary}}</typography></flexbox></flexbox></block></block><block wx:else><flexbox vue-id="{{('16ad249a-82')+','+('16ad249a-5')}}" align="center" direction="column" className="empty-content" bind:__l="__l" vue-slots="{{['default']}}"><icon src="empty-scheme.png" size="128"></icon><flexbox vue-id="{{('16ad249a-83')+','+('16ad249a-82')}}" align="center" direction="column" gap="12" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-84')+','+('16ad249a-83')}}" color="gray2" bind:__l="__l" vue-slots="{{['default']}}">当前还没有制定专属方案</typography><flexbox vue-id="{{('16ad249a-85')+','+('16ad249a-83')}}" align="center" className="scheme-btn" data-event-opts="{{[['^tap',[['navigateTo',['/pagesB/diet/scheme?memberId='+memberId]]]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-86')+','+('16ad249a-85')}}" fontSize="16" color="white" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">制定方案</typography></flexbox></flexbox></flexbox></block></flexbox></flexbox><block wx:if="{{scheme}}"><flexbox vue-id="16ad249a-87" direction="column" gap="12" className="advice-container" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-88')+','+('16ad249a-87')}}" fontSize="22" color="#000000" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">关于饮食的建议</typography><flexbox vue-id="{{('16ad249a-89')+','+('16ad249a-87')}}" direction="column" gap="12" className="advice-content" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-90')+','+('16ad249a-89')}}" fontSize="18" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">食物选择优化</typography><block wx:for="{{scheme.food_selection_advice}}" wx:for-item="advice" wx:for-index="index" wx:key="index"><view class="advice-item"><typography vue-id="{{('16ad249a-91-'+index)+','+('16ad249a-89')}}" color="primary" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">{{advice.title+"："}}</typography><typography vue-id="{{('16ad249a-92-'+index)+','+('16ad249a-89')}}" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{advice.description}}</typography></view></block></flexbox><block wx:for="{{advices}}" wx:for-item="advice" wx:for-index="__i6__" wx:key="id"><flexbox vue-id="{{('16ad249a-93-'+__i6__)+','+('16ad249a-87')}}" direction="column" gap="12" className="advice-content" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-94-'+__i6__)+','+('16ad249a-93-'+__i6__)}}" fontSize="18" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">{{advice.disease_type}}</typography><block wx:for="{{advice.advice_content}}" wx:for-item="text" wx:for-index="index" wx:key="index"><typography vue-id="{{('16ad249a-95-'+__i6__+'-'+index)+','+('16ad249a-93-'+__i6__)}}" color="gray1" bind:__l="__l" vue-slots="{{['default']}}">{{index+1+"、"+text}}</typography></block></flexbox></block></flexbox></block><block wx:if="{{scheme}}"><flexbox vue-id="16ad249a-96" align="center" className="cookbook-btn" data-event-opts="{{[['^tap',[['navigateTo',['/pagesB/cookbook/detail']]]]]}}" bind:tap="__e" bind:__l="__l" vue-slots="{{['default']}}"><typography vue-id="{{('16ad249a-97')+','+('16ad249a-96')}}" fontSize="18" color="white" bold="{{true}}" bind:__l="__l" vue-slots="{{['default']}}">查看食谱</typography></flexbox></block><login vue-id="16ad249a-98" bind:__l="__l"></login></view>